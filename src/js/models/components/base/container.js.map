{"version":3,"sources":["models/components/base/container.ts"],"names":["MetaApp","MetaApp.Models","MetaApp.Models.Components","MetaApp.Models.Components.ContainerBase","MetaApp.Models.Components.ContainerBase.constructor","MetaApp.Models.Components.ContainerBase.destroy","MetaApp.Models.Components.ContainerBase.getComponentConstructor","MetaApp.Models.Components.ContainerBase.add","MetaApp.Models.Components.ContainerBase.remove","MetaApp.Models.Components.ContainerBase.move"],"mappings":"AAAA,+DAA+D;AAC/D,oEAAoE;AACpE,sCAAsC;AACtC,8BAA8B;;;;;;AAE9B,IAAO,OAAO,CAkDb;AAlDD,WAAO,OAAO;IAACA,IAAAA,MAAMA,CAkDpBA;IAlDcA,WAAAA,MAAMA;QAACC,IAAAA,UAAUA,CAkD/BA;QAlDqBA,WAAAA,UAAUA,EAACA,CAACA;YACjCC;;;eAGGA;YACHA;gBAAmCC,iCAAWA;gBAI7CA,uBAAYA,IAAuCA,EAAEA,OAAYA;oBAChEC,kBAAMA,IAAIA,EAAEA,OAAOA,CAACA,CAACA;oBAHtBA,UAAKA,GAAwCA,EAAEA,CAACA;oBAK/CA,6CAA6CA;oBAC7CA,GAAGA,CAAAA,CAACA,GAAGA,CAACA,CAACA,GAACA,CAACA,EAAEA,GAAGA,GAACA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,EAAEA,CAACA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,CAACA,GAACA,GAAGA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBAC3DA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,uBAAuBA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,EAAEA,EAACA,MAAMA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,IAAIA,CAACA,IAAIA,EAACA,CAACA,CAACA;wBAEtGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;wBACnBA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA,CAACA;oBACtDA,CAACA;gBACFA,CAACA;gBAEDD,+BAAOA,GAAPA;oBACCE,IAAIA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,CAACA,CAACA;gBACvBA,CAACA;gBAEOF,+CAAuBA,GAA/BA,UAAgCA,IAASA;oBACxCG,EAAEA,CAAAA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;wBAACA,MAAMA,CAACA,mBAAQA,CAACA;oBAACA,CAACA;oBAErCA,MAAMA,CAACA,sBAAWA,CAACA;gBACpBA,CAACA;gBAEDH,0BAA0BA;gBACnBA,2BAAGA,GAAVA,UAAWA,SAAsBA,EAAEA,QAAiBA;oBACnDI,SAASA,CAACA,MAAMA,GAAGA,IAAIA,CAACA;oBACxBA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,QAAQA,IAAIA,CAACA,GAAGA,QAAQA,GAAGA,CAACA,CAACA,EAAEA,CAACA,EAAEA,SAASA,CAACA,CAACA;gBAChEA,CAACA;gBAEMJ,8BAAMA,GAAbA,UAAcA,SAAsBA,EAAEA,OAAiBA;oBACtDK,OAAOA,SAASA,CAACA,MAAMA,CAACA;oBAExBA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBACpDA,OAAOA,IAAIA,SAASA,CAACA,OAAOA,EAAEA,CAACA;gBAChCA,CAACA;gBAEML,4BAAIA,GAAXA,UAAYA,SAAsBA;oBACjCM,SAASA,CAACA,MAAMA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA;oBACnCA,IAAIA,CAACA,GAAGA,CAACA,SAASA,CAACA,CAACA;gBACrBA,CAACA;gBAEFN,oBAACA;YAADA,CA5CAD,AA4CCC,EA5CkCD,sBAAWA,EA4C7CA;YA5CYA,wBAAaA,gBA4CzBA,CAAAA;QACFA,CAACA,EAlDqBD,UAAUA,GAAVA,iBAAUA,KAAVA,iBAAUA,QAkD/BA;IAADA,CAACA,EAlDcD,MAAMA,GAANA,cAAMA,KAANA,cAAMA,QAkDpBA;AAADA,CAACA,EAlDM,OAAO,KAAP,OAAO,QAkDb","file":"models/components/base/container.js","sourcesContent":["///<reference path='../../../Contracts/IMetaBaseComponent.ts'/>\r\n///<reference path='../../../Contracts/IMetaContainerComponent.ts'/>\r\n///<reference path='base/element.ts'/>\r\n///<reference path='data.ts'/>\r\n\r\nmodule MetaApp.Models.Components {\r\n\t/**\r\n\t * Base class to describe containers. All container-based components should inherit from this base.\r\n\t * Handle all child relations.\r\n\t */\r\n\texport class ContainerBase extends ElementBase implements Contracts.IMetaContainerComponent {\r\n\t\tname: string;\r\n\t\titems: Array<Contracts.IMetaBaseComponent> = [];\r\n\t\t\r\n\t\tconstructor(meta: Contracts.IMetaContainerComponent, options: any) {\r\n\t\t\tsuper(meta, options);\r\n\r\n\t\t\t//parse all childs and instantiate child list\r\n\t\t\tfor(var i=0, len=(meta.items || []).length, e; i<len; i++) {\r\n\t\t\t\te = new (this.getComponentConstructor(meta.items[i]))(meta.items[i], {parent: this, form: this.form});\r\n\r\n\t\t\t\tthis.items.push(e);\r\n\t\t\t\tthis.form && (this.form.componentByName[e.name] = e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdestroy() {\r\n\t\t\tthis.items.length = 0;\r\n\t\t}\r\n\r\n\t\tprivate getComponentConstructor(meta: any) {\r\n\t\t\tif(meta.binding) { return DataBase; }\r\n\r\n\t\t\treturn ElementBase;\r\n\t\t}\r\n\r\n\t\t//#region \"Container CRUD\"\r\n\t\tpublic add(component: ElementBase, position?: number) {\r\n\t\t\tcomponent.parent = this;\r\n\t\t\tthis.items.splice(position >= 0 ? position : -1, 0, component);\r\n\t\t}\r\n\r\n\t\tpublic remove(component: ElementBase, destroy?: boolean) {\r\n\t\t\tdelete component.parent;\r\n\r\n\t\t\tthis.items.splice(this.items.indexOf(component), 1);\r\n\t\t\tdestroy && component.destroy();\r\n\t\t}\r\n\r\n\t\tpublic move(component: ElementBase) {\r\n\t\t\tcomponent.parent.remove(component);\r\n\t\t\tthis.add(component);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n}"],"sourceRoot":"/source/"}